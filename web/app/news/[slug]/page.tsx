import type { Metadata } from "next";
import Link from "next/link";
import { notFound } from "next/navigation";
import Breadcrumbs from "../../components/Breadcrumbs";
import Container from "../../components/Container";
import Section from "../../components/Section";

// В реальном проекте это будет запрос к API или базе данных
const newsArticles: Record<
  string,
  {
    title: string;
    date: string;
    tag: string;
    content: string;
    excerpt: string;
  }
> = {
  "commentary-inheritance-rights": {
    title: "Комментарий по делу о защите прав наследников",
    date: "2025-01-15",
    tag: "Наследство",
    excerpt:
      "Адвокаты коллегии прокомментировали актуальные вопросы наследования и защиты прав наследников в современных условиях.",
    content: `
      <p>Адвокаты коллегии «Багратион» прокомментировали актуальные вопросы наследования и защиты прав наследников в современных условиях.</p>
      
      <h2>Типичные ситуации</h2>
      <p>В практике коллегии часто встречаются ситуации, когда наследники сталкиваются с различными сложностями при оформлении наследства. Это может быть связано с пропуском сроков, спорами между наследниками, необходимостью оспаривания завещания или признания права на обязательную долю.</p>
      
      <h2>Рекомендации</h2>
      <p>Важно своевременно обратиться к адвокату для защиты своих прав. Адвокат поможет правильно оформить документы, восстановить пропущенные сроки, разрешить споры между наследниками и защитить интересы клиента в суде.</p>
      
      <h2>Практика коллегии</h2>
      <p>Коллегия «Багратион» имеет многолетний опыт работы с делами о наследовании. Наши адвокаты успешно представляют интересы наследников в судах различных инстанций и помогают решать сложные правовые вопросы.</p>
    `,
  },
  "arbitration-conference": {
    title: "Участие в конференции по арбитражному праву",
    date: "2025-01-10",
    tag: "Арбитраж",
    excerpt:
      "Представители коллегии выступили на конференции, посвящённой актуальным вопросам арбитражного процесса и корпоративных споров.",
    content: `
      <p>Представители коллегии «Багратион» приняли участие в конференции, посвящённой актуальным вопросам арбитражного процесса и корпоративных споров.</p>
      
      <h2>Ключевые темы</h2>
      <p>В рамках конференции обсуждались вопросы, связанные с практикой разрешения корпоративных конфликтов, защитой прав участников хозяйственных обществ, взысканием задолженности и банкротными процедурами.</p>
      
      <h2>Выступление</h2>
      <p>Адвокаты коллегии поделились опытом работы с арбитражными делами и представили анализ судебной практики по ключевым вопросам корпоративного права.</p>
    `,
  },
  "family-disputes-expert": {
    title: "Экспертное мнение по семейным спорам",
    date: "2025-01-05",
    tag: "Семейное право",
    excerpt:
      "Разбор типичных ситуаций в семейных спорах и рекомендации по защите интересов при разводе и разделе имущества.",
    content: `
      <p>Адвокаты коллегии «Багратион» подготовили разбор типичных ситуаций в семейных спорах и рекомендации по защите интересов.</p>
      
      <h2>Типичные ситуации</h2>
      <p>В практике коллегии часто встречаются дела, связанные с расторжением брака, разделом совместно нажитого имущества, определением места жительства детей, взысканием алиментов и другими вопросами семейного права.</p>
      
      <h2>Рекомендации</h2>
      <p>При возникновении семейного спора важно своевременно обратиться к адвокату. Правильно выстроенная правовая позиция и грамотная подготовка документов помогут защитить ваши интересы и достичь желаемого результата.</p>
    `,
  },
  "criminal-defense-rights": {
    title: "Защита прав в уголовных делах",
    date: "2024-12-28",
    tag: "Уголовное право",
    excerpt:
      "Комментарий о важности своевременного обращения к адвокату на стадии доследственной проверки и следствия.",
    content: `
      <p>Адвокаты коллегии «Багратион» прокомментировали важность своевременного обращения к адвокату на стадии доследственной проверки и следствия.</p>
      
      <h2>Раннее обращение</h2>
      <p>Обращение к адвокату на ранней стадии уголовного дела позволяет защитить права и интересы подозреваемого или обвиняемого, обеспечить правильное ведение дела и предотвратить возможные нарушения.</p>
      
      <h2>Практика</h2>
      <p>Коллегия имеет многолетний опыт защиты по уголовным делам на всех стадиях процесса. Наши адвокаты успешно защищают интересы клиентов и добиваются положительных результатов.</p>
    `,
  },
  "real-estate-legislation": {
    title: "Новое в законодательстве о недвижимости",
    date: "2024-12-20",
    tag: "Недвижимость",
    excerpt:
      "Обзор изменений в законодательстве, влияющих на сделки с недвижимостью и защиту прав собственников.",
    content: `
      <p>Адвокаты коллегии подготовили обзор изменений в законодательстве, влияющих на сделки с недвижимостью и защиту прав собственников.</p>
      
      <h2>Изменения 2025 года</h2>
      <p>В 2025 году вступили в силу изменения в законодательстве, касающиеся сделок с недвижимостью, регистрации прав собственности и защиты прав собственников.</p>
      
      <h2>Что важно знать</h2>
      <p>Собственникам недвижимости и лицам, планирующим совершить сделку, важно быть в курсе изменений законодательства и правильно оформлять документы для защиты своих прав.</p>
    `,
  },
  "corporate-disputes-trends": {
    title: "Корпоративные споры: практика и тенденции",
    date: "2024-12-15",
    tag: "Корпоративное право",
    excerpt:
      "Анализ практики разрешения корпоративных конфликтов и споров между участниками хозяйственных обществ.",
    content: `
      <p>Адвокаты коллегии подготовили анализ практики разрешения корпоративных конфликтов и споров между участниками хозяйственных обществ.</p>
      
      <h2>Тенденции</h2>
      <p>В последние годы наблюдается рост числа корпоративных споров, связанных с защитой прав участников, оспариванием решений органов управления и взысканием убытков.</p>
      
      <h2>Практика</h2>
      <p>Коллегия имеет значительный опыт работы с корпоративными спорами и успешно защищает интересы участников хозяйственных обществ в арбитражных судах.</p>
    `,
  },
  "civil-disputes-practice": {
    title: "Практика по гражданским спорам в 2024 году",
    date: "2024-12-10",
    tag: "Гражданское право",
    excerpt:
      "Итоги года в разрешении гражданских споров. Основные тенденции судебной практики и изменения в подходах к защите прав граждан.",
    content: `
      <p>Адвокаты коллегии подвели итоги года в разрешении гражданских споров и проанализировали основные тенденции судебной практики.</p>
      
      <h2>Итоги года</h2>
      <p>2024 год был отмечен рядом важных изменений в судебной практике по гражданским делам. Суды стали более внимательно подходить к вопросам защиты прав граждан и применению норм материального права.</p>
      
      <h2>Тенденции</h2>
      <p>Наблюдается рост числа дел, связанных с защитой прав потребителей, возмещением ущерба и восстановлением нарушенных прав. Коллегия успешно представляет интересы клиентов в таких делах.</p>
    `,
  },
  "housing-disputes-guide": {
    title: "Руководство по жилищным спорам",
    date: "2024-12-05",
    tag: "Жилищное право",
    excerpt:
      "Подробный разбор типичных жилищных споров: выселение, признание права собственности, споры с управляющими компаниями.",
    content: `
      <p>Адвокаты коллегии подготовили подробный разбор типичных жилищных споров и практические рекомендации по их разрешению.</p>
      
      <h2>Типичные споры</h2>
      <p>В практике коллегии часто встречаются дела, связанные с выселением, признанием права собственности на жилое помещение, спорами с управляющими компаниями и другими вопросами жилищного права.</p>
      
      <h2>Рекомендации</h2>
      <p>При возникновении жилищного спора важно правильно определить правовую позицию и подготовить необходимые документы. Опытный адвокат поможет защитить ваши права и интересы.</p>
    `,
  },
};

interface PageProps {
  params: Promise<{ slug: string }>;
}

export async function generateMetadata({ params }: PageProps): Promise<Metadata> {
  const { slug } = await params;
  const article = newsArticles[slug];

  if (!article) {
    return {
      title: "Статья не найдена — Багратион",
    };
  }

  return {
    title: `${article.title} — Багратион`,
    description: article.excerpt,
  };
}

export default async function NewsArticlePage({ params }: PageProps) {
  const { slug } = await params;
  const article = newsArticles[slug];

  if (!article) {
    notFound();
  }

  const publishedDate = new Date(article.date);
  const formattedDate = publishedDate.toLocaleDateString("ru-RU", {
    year: "numeric",
    month: "long",
    day: "numeric",
  });

  const articleSchema = {
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    headline: article.title,
    description: article.excerpt,
    datePublished: article.date,
    author: {
      "@type": "Organization",
      name: "Коллегия адвокатов «Багратион»",
    },
    publisher: {
      "@type": "Organization",
      name: "Коллегия адвокатов «Багратион»",
    },
  };

  return (
    <>
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(articleSchema) }}
      />
      <Section className="pt-20 pb-12 sm:pt-24 sm:pb-16">
        <Container>
          <Breadcrumbs
            items={[
              { label: "Главная", href: "/" },
              { label: "Новости", href: "/news" },
              { label: article.title },
            ]}
          />

          <article className="max-w-4xl space-y-8">
            <header className="space-y-6">
              <div className="flex items-center gap-3 text-sm text-[var(--text-muted)]">
                <time dateTime={article.date}>{formattedDate}</time>
                <span className="px-3 py-1 rounded-xl bg-[var(--bg-tertiary)] border border-[var(--border-subtle)]">
                  {article.tag}
                </span>
              </div>
              <h1 className="text-4xl font-semibold tracking-tight sm:text-5xl lg:text-6xl">
                {article.title}
              </h1>
            </header>

            <div
              className="prose prose-invert prose-lg max-w-none space-y-6 leading-relaxed
              [&>h2]:text-2xl [&>h2]:font-semibold [&>h2]:mt-12 [&>h2]:mb-6
              [&>h3]:text-xl [&>h3]:font-semibold [&>h3]:mt-8 [&>h3]:mb-4
              [&>p]:text-[var(--text-secondary)] [&>p]:leading-relaxed [&>p]:mb-6
              [&>ul]:list-disc [&>ul]:list-inside [&>ul]:space-y-2 [&>ul]:text-[var(--text-secondary)] [&>ul]:mb-6
              [&>ol]:list-decimal [&>ol]:list-inside [&>ol]:space-y-2 [&>ol]:text-[var(--text-secondary)] [&>ol]:mb-6"
              dangerouslySetInnerHTML={{ __html: article.content }}
            />

            <footer className="pt-8 border-t border-[var(--border-subtle)]">
              <Link
                href="/news"
                className="inline-flex items-center gap-2 text-sm text-[var(--text-secondary)] hover:text-[var(--accent-primary)] transition-colors"
              >
                ← Вернуться к новостям
              </Link>
            </footer>
          </article>
        </Container>
      </Section>
    </>
  );
}
